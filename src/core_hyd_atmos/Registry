#
# namelist  type  namelist_record  name  default_value
#
namelist integer   sw_model config_test_case            5
namelist character sw_model config_time_integration     SRK3
namelist real      sw_model config_dt                   172.8
namelist integer   sw_model config_ntimesteps           7500
namelist integer   sw_model config_output_interval      500
namelist real      sw_model config_h_mom_eddy_visc2     0.0
namelist real      sw_model config_h_mom_eddy_visc4     0.0
namelist real      sw_model config_v_mom_eddy_visc2     0.0
namelist real      sw_model config_h_theta_eddy_visc2   0.0
namelist real      sw_model config_h_theta_eddy_visc4   0.0
namelist real      sw_model config_v_theta_eddy_visc2   0.0
namelist integer   sw_model config_number_of_sub_steps  4
namelist integer   sw_model config_theta_adv_order      2
namelist integer   sw_model config_scalar_adv_order     2
namelist logical   sw_model config_positive_definite    false
namelist logical   sw_model config_monotonic            true
namelist integer   sw_model config_mp_physics           0
namelist character io       config_input_name           grid.nc
namelist character io       config_output_name          output.nc
namelist character io       config_restart_name         restart.nc
namelist integer   restart  config_restart_interval     0
namelist logical   restart  config_do_restart           false
namelist real      restart  config_restart_time         172800.0

#
# dim  type  name_in_file  name_in_code
#
dim nCells nCells
dim nEdges nEdges
dim maxEdges maxEdges
dim maxEdges2 maxEdges2
dim nVertices nVertices
dim TWO 2
dim vertexDegree vertexDegree
dim FIFTEEN 15
dim TWENTYONE 21
dim R3 3
dim nVertLevels nVertLevels
#dim nTracers nTracers
dim nVertLevelsP1 nVertLevels+1

#
# var  type  name_in_file  ( dims )  iro-  name_in_code super-array array_class
#
var real    xtime ( Time ) ro xtime - -

var real    latCell ( nCells ) iro latCell - -
var real    lonCell ( nCells ) iro lonCell - -
var real    xCell ( nCells ) iro xCell - -
var real    yCell ( nCells ) iro yCell - -
var real    zCell ( nCells ) iro zCell - -
var integer indexToCellID ( nCells ) iro indexToCellID - -

var real    latEdge ( nEdges ) iro latEdge - -
var real    lonEdge ( nEdges ) iro lonEdge - -
var real    xEdge ( nEdges ) iro xEdge - -
var real    yEdge ( nEdges ) iro yEdge - -
var real    zEdge ( nEdges ) iro zEdge - -
var integer indexToEdgeID ( nEdges ) iro indexToEdgeID - -

var real    latVertex ( nVertices ) iro latVertex - -
var real    lonVertex ( nVertices ) iro lonVertex - -
var real    xVertex ( nVertices ) iro xVertex - -
var real    yVertex ( nVertices ) iro yVertex - -
var real    zVertex ( nVertices ) iro zVertex - -
var integer indexToVertexID ( nVertices ) iro indexToVertexID - -

var integer cellsOnEdge ( TWO nEdges ) iro cellsOnEdge - -
var integer nEdgesOnCell ( nCells ) iro nEdgesOnCell - -
var integer nEdgesOnEdge ( nEdges ) iro nEdgesOnEdge - -
var integer edgesOnCell ( maxEdges nCells ) iro edgesOnCell - -
var integer edgesOnEdge ( maxEdges2 nEdges ) iro edgesOnEdge - -

var real    weightsOnEdge ( maxEdges2 nEdges ) iro weightsOnEdge - -
var real    dvEdge ( nEdges ) iro dvEdge - -
var real    dcEdge ( nEdges ) iro dcEdge - -
var real    angleEdge ( nEdges ) iro angleEdge - -
var real    areaCell ( nCells ) iro areaCell - -
var real    areaTriangle ( nVertices ) iro areaTriangle - -

var integer cellsOnCell ( maxEdges nCells ) iro cellsOnCell - -
var integer verticesOnCell ( maxEdges nCells ) iro verticesOnCell - -
var integer verticesOnEdge ( TWO nEdges ) iro verticesOnEdge - -
var integer edgesOnVertex ( vertexDegree nVertices ) iro edgesOnVertex - -
var integer cellsOnVertex ( vertexDegree nVertices ) iro cellsOnVertex - -
var real    kiteAreasOnVertex ( vertexDegree nVertices ) iro kiteAreasOnVertex - -
var real    fEdge ( nEdges ) iro fEdge - -
var real    fVertex ( nVertices ) iro fVertex - -
var real    h_s ( nCells ) iro h_s - -

# description of the vertical grid structure
var real    rdnu ( nVertLevels ) iro rdnu - -
var real    rdnw ( nVertLevels ) iro rdnw - -
var real    fnm ( nVertLevels ) iro fnm - -
var real    fnp ( nVertLevels ) iro fnp - -
var real    dbn ( nVertLevels ) iro dbn - -
var real    dnu ( nVertLevels ) iro dnu - -
var real    dnw ( nVertLevels ) iro dnw - -

# Prognostic variables: read from input, saved in restart, and written to output
var real    u ( nVertLevels nEdges Time ) iro u - -
var real    theta ( nVertLevels nCells Time ) iro theta - -
var real    surface_pressure ( nCells Time ) iro surface_pressure - -
var real    qv ( nVertLevels nCells Time ) iro qv scalars moist
var real    qc ( nVertLevels nCells Time ) iro qc scalars moist
var real    qr ( nVertLevels nCells Time ) iro qr scalars moist
#var real    tracers ( nTracers nVertLevels nCells Time ) iro tracers - -

# state variables diagnosed from prognostic state
var real    h ( nVertLevels nCells Time ) ro h - -
var real    ww ( nVertLevelsP1 nCells Time ) ro ww - -
var real    w ( nVertLevelsP1 nCells Time ) ro w - -
var real    pressure ( nVertLevelsP1 nCells Time ) ro pressure - -
var real    geopotential ( nVertLevelsP1 nCells Time ) ro geopotential - -
var real    alpha ( nVertLevels nCells Time ) iro alpha - -

# Diagnostic fields: only written to output
var real    v ( nVertLevels nEdges Time ) o v - -
var real    divergence ( nVertLevels nCells Time ) o divergence - -
var real    vorticity ( nVertLevels nVertices Time ) o vorticity - -
var real    pv_edge ( nVertLevels nEdges Time ) o pv_edge - -
var real    h_edge ( nVertLevels nEdges Time ) o h_edge - -
var real    ke ( nVertLevels nCells Time ) o ke - -
var real    pv_vertex ( nVertLevels nVertices Time ) o pv_vertex - -
var real    pv_cell ( nVertLevels nCells Time ) o pv_cell - -
var real    uReconstructX ( nVertLevels nCells Time ) o uReconstructX - -
var real    uReconstructY ( nVertLevels nCells Time ) o uReconstructY - -
var real    uReconstructZ ( nVertLevels nCells Time ) o uReconstructZ - -

# Other diagnostic variables: neither read nor written to any files
var real    vh ( nVertLevels nEdges Time ) - vh - -
var real    circulation ( nVertLevels nVertices Time ) - circulation - -
var real    gradPVt ( nVertLevels nEdges Time ) - gradPVt - -
var real    gradPVn ( nVertLevels nEdges Time ) - gradPVn - -

var real    uhAvg ( nVertLevels nEdges ) - uhAvg - -
var real    wwAvg ( nVertLevelsP1 nCells ) - wwAvg - -
var real    qtot ( nVertLevels nCells ) - qtot - -
var real    cqu  ( nVertLevels nEdges ) - cqu - -
var real    h_diabatic  ( nVertLevels nCells ) - h_diabatic - -
var real    dpsdt ( nCells ) - dpsdt - -

var real    u_old ( nVertLevels nEdges ) - u_old - -
var real    ww_old ( nVertLevelsP1 nCells ) - ww_old - -
var real    theta_old ( nVertLevels nCells ) - theta_old - -
var real    h_edge_old ( nVertLevels nEdges ) - h_edge_old - -
var real    h_old ( nVertLevels nCells ) - h_old - -
var real    pressure_old ( nVertLevelsP1 nCells ) - pressure_old - -
var real    qv_old ( nVertLevels nCells ) - qv_old scalars_old moist_old
var real    qc_old ( nVertLevels nCells ) - qc_old scalars_old moist_old
var real    qr_old ( nVertLevels nCells ) - qr_old scalars_old moist_old
#var real    tracers_old ( nTracers nVertLevels nCells ) - tracers_old - -

# Space needed for advection
var real    deriv_two ( FIFTEEN TWO nEdges ) o deriv_two - -
var integer advCells ( TWENTYONE nCells ) - advCells - -

# Arrays required for reconstruction of velocity field
var real    coeffs_reconstruct ( R3 maxEdges nCells ) - coeffs_reconstruct - -

